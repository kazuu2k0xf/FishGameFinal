<?xml version='1.0' encoding='UTF-8' ?>
<schema version ="1.0"
           xmlns ="http://www.w3.org/2001/XMLSchema"
           targetNamespace="http://www.l3miage.fr/JeuPoissonCordaUML"
           xmlns:jeu="http://www.l3miage.fr/JeuPoissonCordaUML"
           elementFormDefault="qualified">


    <element name="jeu" type="jeu:Jeu"> </element>

    <complexType name="Jeu">
        <sequence>
            <element name="etatJeu" type="jeu:Etat"></element>
            <element name="niveauCourant" type="jeu:Niveau"></element>
        </sequence>
    </complexType>
    
    
    <simpleType name="Etat">
        <restriction base ="string">
            <enumeration value="Playing"></enumeration>
            <enumeration value="GameOver"></enumeration>
            <enumeration value="GameWon"></enumeration>
        </restriction>
    </simpleType>
    
    
    <!--- Type Niveau -->
    <complexType name="Niveau">
        <sequence>    <!--- Il manque le tableau mais il est crÃ©er directement dans la methode IniltialiserNiveau() -->
            <element name="mouvementMax" type="int"></element>
            <element name="joueur" type="jeu:Pecheur" minOccurs="1" maxOccurs="1"></element>
            <element name="poisson" type="jeu:Poisson" minOccurs="1" maxOccurs="1"></element>
            <element name="caseSortie" type="jeu:Tuile"></element>
            <element name="textPecheur" type="jeu:Texture2D"></element>
            <element name="textPoisson" type="jeu:Texture2D"></element>
            <element name="textCarte" type="jeu:Texture2D"></element>
            <element name="collones" type="int"></element>
            <element name="lignes" type="int"></element>
        </sequence>
    </complexType>

<!--- Type Pecheur -->
    <complexType name="Pecheur">
        <sequence>
            <element name="nom" type="string" minOccurs="1" maxOccurs="1"> </element>
            <element name="texturePecheur" type="jeu:Texture2D"></element>
            <element name="mouvementRestant" type="int" minOccurs="1" maxOccurs="1"> </element>
            <element name="positionActuelle" type="jeu:Tuile" minOccurs="1" maxOccurs="1"> </element>
            <element name="aPoisson" type="boolean" minOccurs="1" maxOccurs="1"> </element>
            <element name="aOutil" type="boolean"></element>
        </sequence>
    </complexType>


    <!--- Type Poisson -->
    <complexType name="Poisson">
        <sequence>
            <element name="nom" type="string" minOccurs="1" maxOccurs="1"></element>
            <element name="texturePoisson" type="jeu:Texture2D"></element>
            <element name="position" type="jeu:Tuile" minOccurs="1" maxOccurs="1"></element>
            <element name="estVisible" type="boolean" minOccurs="1" maxOccurs="1"></element>
        </sequence>
    </complexType>

    <!--- Type Tuile -->
    <complexType name="Tuile">
        <sequence>
            <element name="coordonnees" type="jeu:Point" minOccurs="1" maxOccurs="1"></element>
            <element name="estBloquant" type="boolean"></element>
            <element name="constLargeur" type="int" minOccurs="1" maxOccurs="1"></element>
            <element name="constHauteur" type="int" minOccurs="1" maxOccurs="1"></element>
        </sequence>
    </complexType>
    
    <complexType name="Texture2D">
        <sequence>
            <element name="textNom" type="string"></element>
        </sequence>
    </complexType>


    <!--- Type Carte -->
    <complexType name="Carte">
        <sequence>
            <element name="collision" type="jeu:Collision"></element>
        </sequence>
    </complexType>

    <complexType name="Point">
        <attribute name="posX" type ="jeu:Pos"></attribute>
        <attribute name="posY" type ="jeu:Pos"></attribute>
    </complexType>
    
    <simpleType name="Pos">
        <restriction base ="int">
            <pattern value="[0-7]{1}"/>
        </restriction>
    </simpleType>
    <!--- Class Colisi -->
    <complexType name="Collision">
        <sequence>
            <element name="ligne" type="jeu:Ligne" minOccurs="8" maxOccurs="8"> </element>
        </sequence>
    </complexType>
    
    <!--- Type Ligne -->
    <simpleType name="Ligne">
        <restriction base="string">
            <pattern value="[C ]{8}"/>
        </restriction>
    </simpleType>
</schema>